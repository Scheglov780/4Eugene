<? /******************************************************************************************************************* * This file is the part of VPlatform project https://info92.ru * Copyright (C) 2013-2020, info92 team * All rights reserved and protected by law. * You can't use this file without of the author's permission. * ==================================================================================================================== * <description file="UserForm.php"> * </description> **********************************************************************************************************************/ ?><?php/* * Класс для нормального отображения и валидации форм авторизации и регистрации * @package User */class customSendMessageForm extends CFormModel{    public $captcha;    public $email = null;    public $message = '';    public $name = '';    public $subj = '';    function attributeLabels()    {        return [          'name'    => Yii::t('main', 'Ваше имя'),          'email'   => 'Ваш EMail',          'captcha' => Yii::t('main', 'Результат выражения на картинке'),          'subj'    => Yii::t('main', 'Тема письма'),          'message' => Yii::t('main', 'Ваше сообщение'),        ];    }    function rules()    {        $result = [];        $result[] = ['name,email,message', 'required'];        $result[] = ['name', 'length', 'min' => 1, 'max' => 64];        $result[] = ['subj', 'length', 'min' => 1, 'max' => 256];        $result[] = ['message', 'length', 'min' => 1, 'max' => 2048];        $result[] =          ['email', 'email', 'allowName' => false, 'pattern' => '/[a-z0-9\-\.\+%_]+@[a-z0-9\.\-]+\.[a-z]{2,6}/i'];        $result[] = [          'captcha',          'captcha',          'allowEmpty'    => !CCaptcha::checkRequirements(),          'captchaAction' => '/site/captcha',//            'on'            => 'register'        ];        return $result;    }}